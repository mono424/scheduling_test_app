(this.webpackJsonpscheduling_visual_app=this.webpackJsonpscheduling_visual_app||[]).push([[0],{34:function(e,t,r){e.exports=r(52)},39:function(e,t,r){},40:function(e,t,r){},41:function(e,t,r){},50:function(e,t,r){},51:function(e,t,r){},52:function(e,t,r){"use strict";r.r(t);var a=r(0),i=r.n(a),n=r(21),s=r.n(n),c=(r(39),r(33)),o=r(3);r(40);var l=function(e){var t=e.processes,r=e.onClick;return i.a.createElement("div",{className:"ProcessTable"},t.map((function(e){return i.a.createElement("div",{onClick:function(){return r(e)},key:e.id,className:"ProcessTable-Item box"},i.a.createElement("div",{className:"color",style:{backgroundColor:e.color}}),i.a.createElement("div",null,i.a.createElement("i",null,"Process:"),e.id),i.a.createElement("div",null,i.a.createElement("i",null,"ArrivalTime:"),e.arrivalTime),i.a.createElement("div",null,i.a.createElement("i",null,"ServiceTime:"),e.serviceTime),i.a.createElement("div",null,i.a.createElement("i",null,"Priority:"),e.priority))})))},u=r(32);r(41);var m=function(e){var t=e.process,r=e.onSave,n=e.onCancel,s=Object(a.useState)({}),c=Object(o.a)(s,2),l=c[0],m=c[1],p=Object(a.useState)(t.id),v=Object(o.a)(p,2),d=v[0],T=v[1],f=Object(a.useState)(t.id),h=Object(o.a)(f,1)[0],E=Object(a.useState)(t.arrivalTime),g=Object(o.a)(E,2),b=g[0],_=g[1],S=Object(a.useState)(t.serviceTime),y=Object(o.a)(S,2),P=y[0],O=y[1],j=Object(a.useState)(t.priority),k=Object(o.a)(j,2),N=k[0],C=k[1];return i.a.createElement("div",{className:"ProcessDialog",onClick:n},i.a.createElement("div",{className:"ProcessDialog-dialog",onClick:function(e){return e.stopPropagation()}},i.a.createElement("div",{className:"ProcessDialog-input"},i.a.createElement("label",null,"Color"),i.a.createElement("span",null,i.a.createElement(u.a,{initialHexColor:t.color,onChange:m,placement:"right"}))),i.a.createElement("div",{className:"ProcessDialog-input"},i.a.createElement("label",null,"Process"),i.a.createElement("input",{value:d,onChange:function(e){return T(e.target.value)}})),i.a.createElement("div",{className:"ProcessDialog-input"},i.a.createElement("label",null,"ArrivalTime"),i.a.createElement("input",{value:b,onChange:function(e){return _(e.target.value)}})),i.a.createElement("div",{className:"ProcessDialog-input"},i.a.createElement("label",null,"ServiceTime"),i.a.createElement("input",{value:P,onChange:function(e){return O(e.target.value)}})),i.a.createElement("div",{className:"ProcessDialog-input"},i.a.createElement("label",null,"Priority"),i.a.createElement("input",{value:N,onChange:function(e){return C(e.target.value)}})),i.a.createElement("button",{className:"ProcessDialog-saveBtn",onClick:function(){r({oid:h,id:d,color:l.hex,arrivalTime:parseInt(b),serviceTime:parseInt(P),priority:parseInt(N)})}},"Save")))},p=r(1),v=r(29),d=r(31),T=function(e){var t=e.statMaker,r=e.convertFromTo,a=e.getProcessesInTimespan,i=e.findShortestServiceTime;return function(e){var n=[],s=[];e=e.sort((function(e,t){return e.arrivalTime-t.arrivalTime}));var c=a(e),o=e[0].arrivalTime,l=c(o,o);e.forEach((function(e){s.push(e.color),n.push([e.id,e.arrivalTime,e.arrivalTime])}));for(var u=function(){var e,t=void 0;1===l.length?t=l.pop():(t=i(l),l=l.filter((function(e){return e.id!==t.id})));var r=o,a=r+t.serviceTime;t.arrivalTime;n.push([t.id,r,a]),o=a,(e=l).push.apply(e,Object(p.a)(c(r,a)))};l.length;)u();return{scheduledProcesses:r(n),colors:s,stats:t().quick(e,n)}}},f=r(4),h=function(e){var t=e.statMaker,r=e.convertFromTo,a=e.uniq,i=e.getProcessesInTimespan,n=e.findShortestServiceTime;return function(e){var s=[],c=[];(e=e.sort((function(e,t){return e.arrivalTime-t.arrivalTime}))).forEach((function(e){s.push(e.color),c.push([e.id,e.arrivalTime,e.arrivalTime])}));for(var o={},l={},u=i(e),m=e.map((function(e){return e.arrivalTime})).filter(a).reverse(),v=m.pop(),d=[],T=null,h=function(){var e;0==m.length&&m.push(v+1),(e=d).push.apply(e,Object(p.a)(u(v,v)));var t=T?T.serviceTime-(v-T._startTime):null,r=n(d),i=T&&r&&r.serviceTime<t;if(!T&&r)return d=d.filter((function(e){return e.id!==r.id})),(T=r)._startTime=v,T._endTime=v+T.serviceTime,m.push(T._endTime),void 0===o[T.id]&&(o[T.id]=T._startTime),m=m.filter(a).sort().reverse(),v=m.pop(),"continue";if(T&&T._endTime<=v&&!r)return c.push([T.id,T._startTime,T._endTime]),l[T.id]=T._endTime,T=null,v=m.pop(),"continue";if(T&&T._endTime<=v&&r)return c.push([T.id,T._startTime,T._endTime]),l[T.id]=T._endTime,d=d.filter((function(e){return e.id!==r.id})),(T=r)._startTime=v,T._endTime=v+T.serviceTime,void 0===o[T.id]&&(o[T.id]=T._startTime),m.push(T._endTime),m=m.filter(a).sort().reverse(),v=m.pop(),"continue";if(i){d=d.filter((function(e){return e.id!==r.id})),c.push([T.id,T._startTime,v]);var s=T.serviceTime-(v-T._startTime);return d.push(Object(f.a)({},T,{_startTime:null,_endTime:null,serviceTime:s})),(T=r)._startTime=v,T._endTime=v+T.serviceTime,void 0===o[T.id]&&(o[T.id]=T._startTime),m.push(T._endTime),m=m.filter(a).sort().reverse(),v=m.pop(),"continue"}v=m.pop()};m.length||d.length||T;)h();return{scheduledProcesses:r(c),colors:s,stats:t().quick(e,c)}}},E=function(e){var t=e.statMaker,r=e.convertFromTo,a=e.getProcessesInTimespan;return function(e){return function(i){i=i.sort((function(e,t){return e.arrivalTime-t.arrivalTime}));var n=[];i.forEach((function(e){n.push([e.id,e.arrivalTime,e.arrivalTime])}));var s=a(i),c=i[0].arrivalTime,o=[],l=c,u=null;do{var m=1;if(o.push.apply(o,Object(p.a)(s(l,c).map((function(e){return Object(f.a)({_timeLeft:e.serviceTime},e)})))),u&&(o.push(u),u=null),o.length>0){var v=o.shift();m=e>v._timeLeft?v._timeLeft:e,n.push([v.id,c,c+m]),v._timeLeft-=m,v._timeLeft>0&&(u=v)}l=c,c+=m}while(o.length>0||u);return{scheduledProcesses:r(n),colors:i.map((function(e){return e.color})),stats:t().quick(i,n)}}}},g=function(e){var t=e.statMaker,r=e.convertFromTo,a=e.getProcessesInTimespan;return function(e){e=e.sort((function(e,t){return e.arrivalTime-t.arrivalTime}));var i=[];e.forEach((function(e){i.push([e.id,e.arrivalTime,e.arrivalTime])}));var n=a(e),s=e[0].arrivalTime,c=[],o=s,l=null;do{if(c.push.apply(c,Object(p.a)(n(o,s).map((function(e){return Object(f.a)({_timeLeft:e.serviceTime},e,{_lastStart:-1})})))),l&&(c.push(l),l,l=null),c.sort((function(e,t){return t.priority-e.priority||t._lastStart-e._lastStart})),c.length>0){var u=c.shift();i.push([u.id,s,s+1]),u._lastStart=s,u._timeLeft-=1,u._timeLeft>0&&(l=u)}o=s,s+=1}while(c.length>0||l);return{scheduledProcesses:r(i),colors:e.map((function(e){return e.color})),stats:t().quick(e,i)}}},b=function(e){var t=e.statMaker,r=e.convertFromTo,a=e.getProcessesInTimespan;return function(e){e=e.sort((function(e,t){return e.arrivalTime-t.arrivalTime}));var i=[];e.forEach((function(e){i.push([e.id,e.arrivalTime,e.arrivalTime])}));var n=a(e),s=e[0].arrivalTime,c=e[e.length-1].arrivalTime,o=[],l=s;do{var u=1;if(o.push.apply(o,Object(p.a)(n(l,s).map((function(e){return Object(f.a)({_timeLeft:e.serviceTime},e,{_lastStart:-1})})))),o.sort((function(e,t){return t.priority-e.priority||t._lastStart-e._lastStart})),o.length>0){var m=o.shift();u=m.serviceTime,i.push([m.id,s,s+u])}l=s,s+=u}while(o.length>0||s<=c);return{scheduledProcesses:r(i),colors:e.map((function(e){return e.color})),stats:t().quick(e,i)}}},_=new Date(0).getTime();var S={statMaker:function(){return{get:function(){var e=this,t={totalTurnaroundTime:0,totalResponseTime:0,averageTurnaroundTime:0,averageResponseTime:0};return this._processes.forEach((function(r){t.totalTurnaroundTime+=e._calcTotalTurnaroundTime(r),t.totalResponseTime+=e._calcTotalResponseTime(r)})),t.averageTurnaroundTime=t.totalTurnaroundTime/this._processes.length,t.averageResponseTime=t.totalResponseTime/this._processes.length,t},quick:function(e,t){var r=this;return this.setProcesses(e),t.forEach((function(e){var t=Object(o.a)(e,3),a=t[0],i=t[1],n=t[2];return r.processTimespan(a,i,n)})),this.get()},processTimespan:function(e,t,r){t>=r||(this.processStarted(e,t),this.processTerminated(e,r))},processStarted:function(e,t){this._processes.find((function(t){return t.id===e})).startTimes.push(t)},processTerminated:function(e,t){this._processes.find((function(t){return t.id===e})).terminateTimes.push(t)},setProcesses:function(e){this._processes=e.map((function(e){return{id:e.id,startTimes:[],terminateTimes:[],arrivalTime:e.arrivalTime}}))},_calcTotalResponseTime:function(e){return e.startTimes[0]-e.arrivalTime},_calcTotalTurnaroundTime:function(e){return Object(p.a)(e.terminateTimes).pop()-e.startTimes[0]},_processes:[]}},convertFromTo:function(e){return e.map((function(e){var t=Object(d.a)(e),r=t[0],a=t[1],i=t[2],n=t.slice(3);return[r,new Date(_+1e3*a),new Date(_+1e3*i)].concat(Object(p.a)(n))}))},uniq:function(e,t,r){return r.indexOf(e)===t},getProcessesInTimespan:function(e){return function(t,r){return e.filter((function(e){return e.arrivalTime>t&&e.arrivalTime<=r||t===r&&e.arrivalTime===t}))}},findShortestServiceTime:function(e){return Object(p.a)(e).sort((function(e,t){return e.serviceTime-t.serviceTime}))[0]}},y={fcfs:function(e){var t=e.statMaker,r=e.convertFromTo;return function(e){var a=[],i=[];return(e=e.sort((function(e,t){return e.arrivalTime-t.arrivalTime}))).forEach((function(e){var t=a.length?a[a.length-1]:null,r=t?t[2]:-1,n=e.arrivalTime>r?e.arrivalTime:r,s=n+e.serviceTime;i.push(e.color),a.push([e.id,e.arrivalTime,e.arrivalTime]),a.push([e.id,n,s])})),{scheduledProcesses:r(a),colors:i,stats:t().quick(e,a)}}}(S),spn:T(S),srt:h(S),rr1:E(S)(1),rr4:E(S)(4),hpwp:g(S),hpnp:b(S)};r(50);var P=function(e){var t=e.processes,r=e.type,a=e.headline,n=(0,y[r])(t),s=n.scheduledProcesses,c=n.colors,o=n.stats;return i.a.createElement("div",{className:"SchedulingSection box"},i.a.createElement(v.a,{width:"100%",height:"400px",chartType:"Timeline",loader:i.a.createElement("div",null,"Loading Chart ..."),data:[[{type:"string",id:"ProcessId"},{type:"date",id:"Start"},{type:"date",id:"End"}]].concat(Object(p.a)(s||[])),options:{colors:c,avoidOverlappingGridLines:!1}}),i.a.createElement("div",{className:"SchedulingSection-stats"},i.a.createElement("h2",null,a),i.a.createElement("div",null,"Average Turnaround-Time: ",i.a.createElement("b",null,o.averageTurnaroundTime)),i.a.createElement("div",null,"Average Response-Time: ",i.a.createElement("b",null,o.averageResponseTime))))},O=(r(51),[{id:"A",arrivalTime:0,serviceTime:7,priority:2,color:"#4285f4"},{id:"B",arrivalTime:3,serviceTime:3,priority:1,color:"#db4437"},{id:"C",arrivalTime:4,serviceTime:2,priority:3,color:"#f4b400"},{id:"D",arrivalTime:6,serviceTime:5,priority:2,color:"#0f9d58"},{id:"E",arrivalTime:8,serviceTime:2,priority:3,color:"#ab47bc"}]);var j=function(){var e=Object(a.useState)(O),t=Object(o.a)(e,2),r=t[0],n=t[1],s=Object(a.useState)(null),u=Object(o.a)(s,2),p=u[0],v=u[1];return i.a.createElement("div",{className:"App"},i.a.createElement("div",{className:"App-section"},i.a.createElement("h2",null,"Processes:"),i.a.createElement(l,{processes:r,onClick:v})),i.a.createElement("div",{className:"print-break"}),i.a.createElement("div",{className:"App-section"},i.a.createElement("h2",null,"Simulations"),i.a.createElement(P,{headline:"First Come First Served (FCFS)",processes:r,type:"fcfs"}),i.a.createElement(P,{headline:"Shortest Process Next (SPN)",processes:r,type:"spn"}),i.a.createElement("div",{className:"print-break"}),i.a.createElement(P,{headline:"Shortest Remaining Time Next (SRT)",processes:r,type:"srt"}),i.a.createElement(P,{headline:"Round Robin (Quantum = 1)",processes:r,type:"rr1"}),i.a.createElement("div",{className:"print-break"}),i.a.createElement(P,{headline:"Round Robin (Quantum = 4)",processes:r,type:"rr4"}),i.a.createElement(P,{headline:"Highest Priority First (with preemption)",processes:r,type:"hpwp"}),i.a.createElement("div",{className:"print-break"}),i.a.createElement(P,{headline:"Highest Priority First (without preemption)",processes:r,type:"hpnp"})),i.a.createElement("div",{className:"footer"},i.a.createElement("a",{target:"_blank",href:"https://khadimfall.com"},"Khadim Fall"),i.a.createElement("a",{target:"_blank",href:"https://github.com/mono424/scheduling_test_app"},"GitHub")),i.a.createElement("div",{className:"footer-print"},"OpenSource on Github: https://github.com/mono424/scheduling_test_app",i.a.createElement("br",null),"See live on: https://mono424.github.io/scheduling_test_app/",i.a.createElement("br",null),"by Khadim Fall [https://khadimfall.com]",i.a.createElement("br",null)),p&&i.a.createElement(m,{process:p,onSave:function(e){var t=e.oid,r=Object(c.a)(e,["oid"]);n((function(e){return e.map((function(e){return e.id===t?r:e}))})),v(null)},onCancel:function(){return v(null)}}))};s.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(j,null)),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.a4bf0931.chunk.js.map